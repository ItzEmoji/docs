<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NixOS Installer | VitePress</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v2.0.0-alpha.16">
    <link rel="preload stylesheet" href="/assets/style.Bjo9lfu-.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CewCzPD0.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.8Cbpj61s.js">
    <link rel="modulepreload" href="/assets/chunks/framework.C_v2XVcg.js">
    <link rel="modulepreload" href="/assets/installer.md.CPRKDm3i.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-9f75dce3><div class="VPNavBar top" data-v-9f75dce3 data-v-9ca1369d><div class="wrapper" data-v-9ca1369d><div class="container" data-v-9ca1369d><div class="title" data-v-9ca1369d><div class="VPNavBarTitle" data-v-9ca1369d data-v-1e38c6bc><a class="title" href="/" data-v-1e38c6bc><!--[--><!--]--><!----><span data-v-1e38c6bc>VitePress</span><!--[--><!--]--></a></div></div><div class="content" data-v-9ca1369d><div class="content-body" data-v-9ca1369d><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9ca1369d data-v-2fc7f2c6><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-9ca1369d data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-9ca1369d data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9ca1369d data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-9ca1369d><div class="divider-line" data-v-9ca1369d></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _installer" data-v-7011f0d8><div><h1 id="nixos-installer" tabindex="-1">NixOS Installer <a class="header-anchor" href="#nixos-installer" aria-label="Permalink to “NixOS Installer”">​</a></h1><p>A terminal UI (TUI) application built in Rust that automates NixOS installation from any flake-based dotfiles repository. It handles disk partitioning, module selection, user creation, and runs <code>nixos-install</code> with your configuration.</p><p><strong>Repository:</strong> <a href="https://github.com/ItzEmoji/nixos-installer" target="_blank" rel="noreferrer">github.com/ItzEmoji/nixos-installer</a></p><h2 id="quick-start" tabindex="-1">Quick Start <a class="header-anchor" href="#quick-start" aria-label="Permalink to “Quick Start”">​</a></h2><h3 id="run-directly-with-nix" tabindex="-1">Run directly with Nix <a class="header-anchor" href="#run-directly-with-nix" aria-label="Permalink to “Run directly with Nix”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github:ItzEmoji/nixos-installer</span></span></code></pre></div><h3 id="with-a-custom-dotfiles-repository" tabindex="-1">With a custom dotfiles repository <a class="header-anchor" href="#with-a-custom-dotfiles-repository" aria-label="Permalink to “With a custom dotfiles repository”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github:ItzEmoji/nixos-installer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/youruser/your-dotfiles.git</span></span></code></pre></div><h3 id="from-an-existing-local-clone" tabindex="-1">From an existing local clone <a class="header-anchor" href="#from-an-existing-local-clone" aria-label="Permalink to “From an existing local clone”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github:ItzEmoji/nixos-installer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/your/dotfiles</span></span></code></pre></div><h2 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to “Features”">​</a></h2><ul><li>Guided TUI wizard with step-by-step installation</li><li>Clones any git-based nixos-dotfiles repository</li><li>Automatic module discovery (scans <code>modules/nixosModules/</code> and <code>modules/homeManagerModules/</code>)</li><li>Interactive multi-select for NixOS modules, Home Manager modules, and package sets</li><li>Disk partitioning (full-disk or custom layout) with EFI, ext4, Btrfs, and swap support</li><li>Multiple user creation with password setup</li><li>Preset support — pick an existing host configuration or build a custom one</li><li>5 color themes: Catppuccin Mocha, Nord, Dracula, Tokyo Night, Gruvbox</li><li>Real-time progress display during <code>git clone</code> and <code>nixos-install</code></li><li>Persistent logging to <code>/tmp/nixos-installer.log</code></li></ul><h2 id="installation-wizard" tabindex="-1">Installation Wizard <a class="header-anchor" href="#installation-wizard" aria-label="Permalink to “Installation Wizard”">​</a></h2><p>The installer walks through these steps:</p><h3 id="_1-clone-repository" tabindex="-1">1. Clone Repository <a class="header-anchor" href="#_1-clone-repository" aria-label="Permalink to “1. Clone Repository”">​</a></h3><p>If no local repo is provided, the installer clones the configured dotfiles repository into <code>/tmp/nixos-dotfiles</code>. Progress from <code>git clone</code> is displayed in real time.</p><h3 id="_2-select-host-preset" tabindex="-1">2. Select Host Preset <a class="header-anchor" href="#_2-select-host-preset" aria-label="Permalink to “2. Select Host Preset”">​</a></h3><p>The installer scans <code>modules/hosts/</code> for existing host configurations. You can:</p><ul><li><strong>Pick a preset</strong> — use an existing host configuration as-is</li><li><strong>Choose &quot;Custom&quot;</strong> — build a new configuration by selecting individual modules</li></ul><h3 id="_3-configure-modules-custom-mode" tabindex="-1">3. Configure Modules (Custom mode) <a class="header-anchor" href="#_3-configure-modules-custom-mode" aria-label="Permalink to “3. Configure Modules (Custom mode)”">​</a></h3><p>In custom mode, you select from the available modules:</p><ul><li><strong>NixOS modules</strong> — system services, boot, desktop, drivers, etc.</li><li><strong>System packages</strong> — package sets from <code>modules/packages/</code></li></ul><p>Modules are discovered automatically by scanning the repository with <code>fd</code>.</p><h3 id="_4-create-users" tabindex="-1">4. Create Users <a class="header-anchor" href="#_4-create-users" aria-label="Permalink to “4. Create Users”">​</a></h3><p>For each user:</p><ul><li>Enter a username (lowercase alphanumeric, hyphens, underscores)</li><li>Set and confirm a password (hashed securely via <code>mkpasswd</code> or <code>openssl</code>)</li><li>Optionally add more users</li></ul><h3 id="_5-select-per-user-modules-custom-mode" tabindex="-1">5. Select Per-User Modules (Custom mode) <a class="header-anchor" href="#_5-select-per-user-modules-custom-mode" aria-label="Permalink to “5. Select Per-User Modules (Custom mode)”">​</a></h3><p>For each user, select:</p><ul><li><strong>Home Manager modules</strong> — shell tools, desktop apps, programs</li><li><strong>User package sets</strong> — per-user package lists</li></ul><h3 id="_6-disk-partitioning" tabindex="-1">6. Disk Partitioning <a class="header-anchor" href="#_6-disk-partitioning" aria-label="Permalink to “6. Disk Partitioning”">​</a></h3><p>Select a target disk, then choose a partitioning mode:</p><p><strong>Full Disk</strong> — creates a standard layout automatically:</p><table tabindex="0"><thead><tr><th>Partition</th><th>Size</th><th>Filesystem</th><th>Mount</th></tr></thead><tbody><tr><td>EFI</td><td>512 MiB</td><td>FAT32</td><td><code>/boot</code></td></tr><tr><td>Swap</td><td>configurable (default 4 GiB)</td><td>swap</td><td>—</td></tr><tr><td>Root</td><td>remaining space</td><td>ext4</td><td><code>/</code></td></tr></tbody></table><p><strong>Custom</strong> — define partitions manually with mount point, size, and filesystem type (FAT32, ext4, Btrfs, or swap).</p><h3 id="_7-confirm-and-install" tabindex="-1">7. Confirm and Install <a class="header-anchor" href="#_7-confirm-and-install" aria-label="Permalink to “7. Confirm and Install”">​</a></h3><p>A summary screen shows all selections. The installation then proceeds through these sub-steps:</p><ol><li>Partition the disk (<code>parted</code>)</li><li>Format and mount filesystems</li><li>Generate <code>_hardware-configuration.nix</code></li><li>Write host configuration (custom mode)</li><li>Write user configuration files</li><li>Stage new files with <code>git add</code></li><li>Run <code>nixos-install --flake &lt;path&gt;#&lt;hostname&gt;</code></li><li>Copy the repository to <code>/mnt/etc/nixos/</code></li></ol><h3 id="_8-set-passwords" tabindex="-1">8. Set Passwords <a class="header-anchor" href="#_8-set-passwords" aria-label="Permalink to “8. Set Passwords”">​</a></h3><p>After installation, the installer sets root and user passwords via <code>nixos-enter</code>.</p><h3 id="_9-complete" tabindex="-1">9. Complete <a class="header-anchor" href="#_9-complete" aria-label="Permalink to “9. Complete”">​</a></h3><p>Reboot into your new system, or exit to continue working in the live environment.</p><h2 id="specifying-your-repository" tabindex="-1">Specifying Your Repository <a class="header-anchor" href="#specifying-your-repository" aria-label="Permalink to “Specifying Your Repository”">​</a></h2><p>The installer supports any flake-based dotfiles repository. There are several ways to specify which one to use, in order of priority:</p><h3 id="cli-flag-highest-priority" tabindex="-1">CLI flag (highest priority) <a class="header-anchor" href="#cli-flag-highest-priority" aria-label="Permalink to “CLI flag (highest priority)”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nixos-installer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/youruser/your-dotfiles.git</span></span></code></pre></div><h3 id="config-file" tabindex="-1">Config file <a class="header-anchor" href="#config-file" aria-label="Permalink to “Config file”">​</a></h3><p>Create or generate a config at <code>/etc/nixos-installer/config.toml</code>:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nixos-installer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --init</span></span></code></pre></div><p>Then edit the generated file:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /etc/nixos-installer/config.toml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Git repository URL for the NixOS dotfiles to install from.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">repo_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://github.com/youruser/your-dotfiles.git&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Color theme for the installer TUI.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Available: catppuccin-mocha, nord, dracula, tokyo-night, gruvbox</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">theme = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;catppuccin-mocha&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Home Manager base modules always included for every user.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hm_base_modules = [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>Use a custom config path with <code>--config</code>:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nixos-installer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/my-config.toml</span></span></code></pre></div><h3 id="environment-variable" tabindex="-1">Environment variable <a class="header-anchor" href="#environment-variable" aria-label="Permalink to “Environment variable”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NIXOS_DOTFILES_REPO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://github.com/youruser/your-dotfiles.git&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> nixos-installer</span></span></code></pre></div><h3 id="local-path" tabindex="-1">Local path <a class="header-anchor" href="#local-path" aria-label="Permalink to “Local path”">​</a></h3><p>Point directly at a local clone:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nixos-installer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/your/dotfiles</span></span></code></pre></div><p>The installer also auto-detects if the current working directory contains a <code>flake.nix</code> and <code>modules/</code> directory, and uses it directly without cloning.</p><h3 id="default" tabindex="-1">Default <a class="header-anchor" href="#default" aria-label="Permalink to “Default”">​</a></h3><p>If nothing is specified, the installer defaults to <code>https://github.com/itzemoji/nixos-dotfiles.git</code>.</p><h2 id="repository-level-configuration" tabindex="-1">Repository-Level Configuration <a class="header-anchor" href="#repository-level-configuration" aria-label="Permalink to “Repository-Level Configuration”">​</a></h2><p>Dotfiles repository authors can include a <code>config.toml</code> in their repository root. When the installer clones or loads the repo, it reads this file and merges its settings:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># config.toml (in your dotfiles repo root)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Override the default repo URL (useful for forks)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># repo_url = &quot;https://github.com/youruser/your-dotfiles.git&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set a default theme for users of this repo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">theme = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;catppuccin-mocha&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Base HM modules that are always included (hidden from selection)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hm_base_modules = [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>This lets you ship installer preferences alongside your dotfiles so users of your repo get sensible defaults.</p><h2 id="expected-repository-structure" tabindex="-1">Expected Repository Structure <a class="header-anchor" href="#expected-repository-structure" aria-label="Permalink to “Expected Repository Structure”">​</a></h2><p>The installer expects your dotfiles repository to follow this layout:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>your-dotfiles/</span></span>
<span class="line"><span>├── flake.nix</span></span>
<span class="line"><span>├── config.toml                    # optional: installer defaults</span></span>
<span class="line"><span>└── modules/</span></span>
<span class="line"><span>    ├── nixosModules/              # scanned for NixOS module selection</span></span>
<span class="line"><span>    │   └── ...</span></span>
<span class="line"><span>    ├── homeManagerModules/        # scanned for HM module selection</span></span>
<span class="line"><span>    │   └── ...</span></span>
<span class="line"><span>    ├── packages/                  # scanned for package set selection</span></span>
<span class="line"><span>    │   └── ...</span></span>
<span class="line"><span>    └── hosts/                     # scanned for host presets</span></span>
<span class="line"><span>        └── &lt;hostname&gt;/</span></span>
<span class="line"><span>            ├── configuration.nix</span></span>
<span class="line"><span>            ├── _hardware-configuration.nix</span></span>
<span class="line"><span>            └── user-&lt;username&gt;.nix</span></span></code></pre></div><p>See <a href="/creating-modules.html">Creating Modules</a> and <a href="/host-configuration.html">Host Configuration</a> for details on how to structure these files.</p><h2 id="cli-reference" tabindex="-1">CLI Reference <a class="header-anchor" href="#cli-reference" aria-label="Permalink to “CLI Reference”">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>nixos-installer [OPTIONS] [PATH]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ARGS:</span></span>
<span class="line"><span>    &lt;PATH&gt;              Use an existing local repo instead of cloning</span></span>
<span class="line"><span></span></span>
<span class="line"><span>OPTIONS:</span></span>
<span class="line"><span>    --repo &lt;URL&gt;        Override the dotfiles repository URL</span></span>
<span class="line"><span>    --config &lt;PATH&gt;     Load config from a custom path</span></span>
<span class="line"><span>                        (default: /etc/nixos-installer/config.toml)</span></span>
<span class="line"><span>    --theme &lt;NAME&gt;      Override the color theme</span></span>
<span class="line"><span>    --init              Generate a default config.toml</span></span>
<span class="line"><span>    --help, -h          Show help message</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ENVIRONMENT:</span></span>
<span class="line"><span>    NIXOS_DOTFILES_REPO    Fallback repository URL if --repo is not given</span></span>
<span class="line"><span></span></span>
<span class="line"><span>AVAILABLE THEMES:</span></span>
<span class="line"><span>    catppuccin-mocha</span></span>
<span class="line"><span>    nord</span></span>
<span class="line"><span>    dracula</span></span>
<span class="line"><span>    tokyo-night</span></span>
<span class="line"><span>    gruvbox</span></span></code></pre></div><h2 id="building-from-source" tabindex="-1">Building from Source <a class="header-anchor" href="#building-from-source" aria-label="Permalink to “Building from Source”">​</a></h2><p>The installer is built with Rust and packaged as a Nix flake:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Build with Nix</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github:ItzEmoji/nixos-installer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Or clone and build with Cargo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/ItzEmoji/nixos-installer.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nixos-installer</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cargo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --release</span></span></code></pre></div><h3 id="dependencies" tabindex="-1">Dependencies <a class="header-anchor" href="#dependencies" aria-label="Permalink to “Dependencies”">​</a></h3><table tabindex="0"><thead><tr><th>Dependency</th><th>Purpose</th></tr></thead><tbody><tr><td><code>ratatui</code></td><td>Terminal UI framework</td></tr><tr><td><code>crossterm</code></td><td>Cross-platform terminal I/O</td></tr><tr><td><code>serde</code> / <code>serde_json</code></td><td>JSON parsing (for <code>lsblk</code> output)</td></tr><tr><td><code>toml</code></td><td>Config file parsing</td></tr></tbody></table><h3 id="runtime-requirements" tabindex="-1">Runtime Requirements <a class="header-anchor" href="#runtime-requirements" aria-label="Permalink to “Runtime Requirements”">​</a></h3><p>The installer shells out to standard NixOS tools that are available on any NixOS live ISO:</p><ul><li><code>git</code> — repository cloning</li><li><code>parted</code> — disk partitioning</li><li><code>mkfs.fat</code>, <code>mkfs.ext4</code>, <code>mkfs.btrfs</code>, <code>mkswap</code> — filesystem creation</li><li><code>nixos-generate-config</code> — hardware config generation</li><li><code>nixos-install</code> — system installation</li><li><code>nixos-enter</code> — password setting in the installed system</li><li><code>fd</code> — module file discovery</li><li><code>mkpasswd</code> or <code>openssl</code> — password hashing</li></ul></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"creating-modules.md\":\"BrmmtIyq\",\"flake-structure.md\":\"BSDBAUl5\",\"getting-started.md\":\"-s4jLiLS\",\"host-configuration.md\":\"D6sAwYbW\",\"index.md\":\"CVx9ASzG\",\"installer.md\":\"CPRKDm3i\",\"neovim.md\":\"-5wUxJJA\",\"repositories.md\":\"Bihx9J-O\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>